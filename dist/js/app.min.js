(()=>{"use strict";const e={Design:["Nadezhda Lazurenko","Adam Gordon"],"Front-End":["Jerome Bell","Arlene McCoy","Darlene Robertson","Ralph Edwards","Theresa Webb"],"Back-End":["Kent Peacock","Nick Johnson","Kate Churikova"],"PM’s":["Kate Middleton"]},t={"Project name":"Artifacts (Blockchain for research)","Team lead":["Oksana Kalashyan"],Created:"1561420800",Finished:"1593475200",Categories:["CMS Production"],Time:"",Label:["Hourly"],Tag:["Page Mockup"],Status:"Non Completed",Team:["Aleksandr Vlasyuk","Aleksey Kuflievskiy","Alyona Zaporozhets","Andrii Sydorenko","Bogdan Sarkisyan","Nadezhda Lazurenko","Julia Fedotova","Sergey Rudenko","Igor Artiukhov","Igor Shatilo","Maria Sergienko","Kamila Kramareva","Aleksandr Vlasyuk","Aleksey Kuflievskiy","Alyona Zaporozhets","Andrii Sydorenko","Bogdan Sarkisyan","Nadezhda Lazurenko","Julia Fedotova","Sergey Rudenko","Igor Artiukhov","Igor Shatilo","Maria Sergienko","Kamila Kramareva","Aleksandr Vlasyuk","Aleksey Kuflievskiy","Alyona Zaporozhets","Andrii Sydorenko"]},n=[{Changes:2067.26,Origin:{Origin:1660.55,Programming:2345.56,Markup:27.18,"Graphic Design":34,Estimation:678,Investigation:80.83,"Bug Fixing":76,"Quality Assurance":6,Meetings:5,Other:8256.08},Sum:15236.48},{Changes:2067.26,Origin:{Origin:1660.55,Programming:1660.55},Sum:15236.48},{Changes:2067.26,Origin:2067.26,Sum:15236.48}],r=[{Changes:[0,0],Origin:[2345.04,100],Average:[2345.04,100]},{Changes:[0,0],Origin:[507.26,100],Average:[507.26,100]}],a=[{taskName:"Subdomain home pages mockup",developer:["Nadezhda Lazurenko"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:756.7,MyTimeSpentByPeriod:75,efficiency:null},{taskName:"Search page mockup",developer:["Nadezhda Lazurenko","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock"],workType:["Programming","Meetings","Programming","Meetings"," Meetings"],status:"Сompleted",estimation:0,totalTimeSpent:232.17,MyTimeSpentByPeriod:23,efficiency:"100%"},{taskName:"Search page mockup",developer:["Nadezhda Lazurenko","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock"],workType:["Programming","Meetings","Programming","Meetings"," Meetings"],status:"Сompleted",estimation:0,totalTimeSpent:232.17,MyTimeSpentByPeriod:23,efficiency:"100%"},{taskName:"Two levels of the menu mockup",developer:["Nadezhda Lazurenko"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:1567.6,MyTimeSpentByPeriod:15,efficiency:null},{taskName:"Edit pictures",developer:["Nadezhda Lazurenko","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:678.2,MyTimeSpentByPeriod:67,efficiency:null},{taskName:"Subdomain home pages mockup",developer:["Nadezhda Lazurenko"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:756.7,MyTimeSpentByPeriod:75,efficiency:null},{taskName:"Landing page mockup",developer:["Nadezhda Lazurenko"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:345.6,MyTimeSpentByPeriod:45,efficiency:null},{taskName:"Search page mockup",developer:["Nadezhda Lazurenko","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock","Kent Peacock"],workType:["Programming","Meetings","Programming","Meetings"," Meetings"],status:"Сompleted",estimation:0,totalTimeSpent:232.17,MyTimeSpentByPeriod:23,efficiency:"100%"},{taskName:"Landing page mockup",developer:["Nadezhda Lazurenko","Augusta Walter"],workType:["Graphic Design"],status:"Not completed",estimation:0,totalTimeSpent:345.6,MyTimeSpentByPeriod:45,efficiency:null},{taskName:"Search page mockup",developer:["Nadezhda Lazurenko","Kent Peacock"],workType:["Programming","Meeting"],status:"Сompleted",estimation:0,totalTimeSpent:232.17,MyTimeSpentByPeriod:23,efficiency:"100%"},{taskName:"Search page mockup",developer:["Nadezhda Lazurenko","Kent Peacock","Nick Johnson","Kate Churikova","Kate Middleton"],workType:["Programming","Meeting","Markup","Graphic Design"],status:"Сompleted",estimation:0,totalTimeSpent:232.17,MyTimeSpentByPeriod:23,efficiency:"100%"}];!function(e){const t=new Image;t.onload=t.onerror=function(){!function(e){const t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();let c=a;document.querySelector(".header__mode").addEventListener("click",(e=>{document.documentElement.classList.add("transition"),setTimeout((()=>{document.documentElement.classList.remove("transition")}),750),"dark"===document.documentElement.getAttribute("data-theme")?(e.currentTarget.querySelector("img").src="../img/dark-mode.svg",document.documentElement.setAttribute("data-theme","light"),document.querySelector(".header__logo").children[0].src="img/mainLogoLight.svg",document.querySelectorAll(".select__arrow").forEach((e=>e.src="img/arrowDark.svg")),document.querySelectorAll(".select__checkbox--arrow").forEach((e=>e.src="img/arrowDark.svg")),document.querySelector(".info__content--label").style.backgroundImage='url("../img/labelBlue.svg")',document.querySelectorAll(".table__column-name").forEach((e=>e.children[1].src="img/sortDark.svg"))):(e.currentTarget.querySelector("img").src="../img/light-mode.svg",document.documentElement.setAttribute("data-theme","dark"),document.querySelector(".header__logo").children[0].src="img/mainLogo.svg",document.querySelectorAll(".select__arrow").forEach((e=>e.src="img/arrow.svg")),document.querySelectorAll(".select__checkbox--arrow").forEach((e=>e.src="img/arrow.svg")),document.querySelector(".info__content--label").style.backgroundImage="url('../img/label.svg')",document.querySelectorAll(".table__column-name").forEach((e=>e.children[1].src="img/sort.svg"))),f()}));const o=document.querySelector(".icon-menu"),l=document.querySelector("body"),i=document.querySelector(".menu__body");o&&o.addEventListener("click",(function(){o.classList.toggle("active"),l.classList.toggle("lock"),i.classList.toggle("active")}));let s={dev:[]};const d=e=>{if(2===e?.target.children.length){let t=parseInt(e.target.children[1].style.transform.slice(7));e.target.parentNode.children[1].style.display=180===t?"none":"block",e.target.children[1].style.transform=`rotate(${180===t?0:180}deg)`}else{let t=parseInt(e?.target.parentNode.children[1].style.transform.slice(7));180===t?e.target.parentNode.parentNode.children[1].style.display="none":e?.target&&(e.target.parentNode.parentNode.children[1].style.display="block"),e?.target&&(e.target.parentNode.children[1].style.transform=`rotate(${180===t?0:180}deg)`)}};document.querySelectorAll(".select__main-row").forEach((e=>e.addEventListener("click",(e=>{d(e)})))),document.querySelectorAll(".filter-status").forEach((e=>e.addEventListener("click",(e=>{1===e.target.children.length?(e.target.parentNode.parentNode.children[0].children[0].innerText=e.target.children[0].innerText,d(e.target.parentNode.parentNode.children[0].click())):(e.target.parentNode.parentNode.parentNode.children[0].children[0].innerText=e.target.innerText,d(e.target.parentNode.parentNode.parentNode.children[0].click()))}))));let m=!0;function h(){let e=0,t=0,n=0,r=[];const a=document.querySelector(".table__body");a.innerHTML="";for(const o of c){const l=document.createElement("tr");e%2==0?(l.classList.add("table__row","table__row--content","table__row--not-odd"),e++):(l.classList.add("table__row","table__row--content","table__row--odd"),e++);for(const[e,a]of Object.entries(o)){const c=document.createElement("td");if("taskName"===e)c.classList.add("table__task-name","table__task-name--content"),c.innerHTML=`<a href="#">${a||"task name"}</a>`;else if("developer"===e)c.classList.add("table__developer","table__developer--content"),a.length>0?a.length>=7?c.innerHTML+=`\n                    <p>\n                        <span>${a[0]}, ${a[1]}...</span>\n                        <span style="display:none;">${a.join(", ")}</span>\n                    </p>\n                    <span class="table__show-more">\n                        Show more (${a.length-2})\n                    </span>\n                `:c.innerHTML+=`${a.join(", ")}`:c.innerHTML="not developers";else if("workType"===e)c.classList.add("table__work-type","table__work-type--content"),a.length>0?a.length>=5?c.innerHTML+=`\n                    <p>\n                        <span>${a[0]}, ${a[1]}...</span>\n                        <span style="display:none;">${a.join(", ")}</span>\n                    </p>\n                    <span class="table__show-more">\n                        Show more (${a.length-2})\n                    </span>\n                `:c.innerHTML+=`${a.join(", ")}`:c.innerHTML="not work type";else if("status"===e)"Сompleted"===a?(c.classList.add("table__status","table__status--completed"),c.innerHTML=`<span>${a}</span>`):"Not completed"===a?(c.classList.add("table__status","table__status--non-completed"),c.innerHTML=`<span>${a}</span>`):c.innerHTML="<span>-</span>";else if("estimation"===e)c.classList.add("table__estimation"),c.innerHTML=`<span>${parseFloat(a).toFixed(1)||"0.0"}</span>`;else if("totalTimeSpent"===e)c.classList.add("table__total-time"),c.innerHTML=`<span>${parseFloat(a).toFixed(2)||"0.0"}</span>`,t+=a;else if("MyTimeSpentByPeriod"===e)c.classList.add("table__my-time"),c.innerHTML=`<span>${parseFloat(a).toFixed(2)||"0.0"}</span>`,n+=a;else{if("efficiency"!==e)continue;c.classList.add("table__efficiency"),c.innerHTML=`<span>${a||"-"}</span>`,null!==a&&r.push(parseFloat(a))}l.appendChild(c)}if(e===c.length){let e=r.reduce(((e,t)=>e+t),0);document.querySelector(".table__row--summ").innerHTML=`\n                <div class="table__width-summ"><span>Sum</span></div>\n                <div class="table__total-time"><span>${Math.ceil(t)}h</span></div>\n                <div class="table__my-time"><span>${Math.ceil(n)}h</span></div>\n                <div class="table__efficiency"><span>${e/r.length||0}% (${Math.ceil(n)}h)</span></div>\n            `,a.append(l)}else a.append(l)}document.querySelectorAll(".table__show-more").forEach((e=>e.addEventListener("click",(e=>(e=>{const t=e.target.parentNode;e.target.innerHTML.includes("Show more")?(e.target.innerHTML="Hide",t.children[0].children[0].style.display="none",t.children[0].children[1].style.display="inline"):(e.target.innerHTML=`Show more (${t.children[0].children[1].innerHTML.split(", ").length-2})`,t.children[0].children[0].style.display="inline",t.children[0].children[1].style.display="none")})(e)))))}document.querySelectorAll(".select__more").forEach((t=>t.addEventListener("click",(t=>{let n,r;if(0!==t.target.children.length){let e=parseInt(t.target.children[0].style.transform.slice(7));n=t.target.parentNode.parentNode.children[1],r=t.target.parentNode.children[0].children[1].innerText,t.target.children[0].style.transform=`rotate(${180===e?0:180}deg)`,180===e?(n.style.display="none",m=!1):a()}else{let e=parseInt(t.target.style.transform.slice(7));t.target.style.transform=`rotate(${180===e?0:180}deg)`,n=t.target.parentNode.parentNode.parentNode.children[1],r=t.target.parentNode.parentNode.children[0].children[1].innerText,180===e?(n.style.display="none",m=!1):a()}function a(){if(n&&r)for(const[t,a]of Object.entries(e))t.trim()===r.trim()&&a.forEach((e=>{if(m)c(e);else{let t=Array.from(n.children).map((e=>e.children[0].children[1].innerText));t.join(" ").includes(e)?n.style.display="block":c(e)}}))}function c(e){n.style.display="block";let t=document.createElement("li"),r=document.createElement("div");r.classList.add("select__developers-row");let a=document.createElement("input");a.type="checkbox",a.checked=!0,a.classList.add("select__checkbox"),a.id=`select__checkbox-${e.toLowerCase().split(" ").join("-")}`,a.addEventListener("click",(e=>function(e){let t=Array.from(e.target.parentNode.parentNode.parentNode.children).map((e=>!!e.children[0].children[0].checked));e.target.parentNode.parentNode.parentNode.parentNode.children[0].children[0].children[0].checked=t.includes(!0);let n=Array.from(document.querySelectorAll(".select__developers-row")).map((e=>!!e.children[0].checked));n.includes(!1)?document.querySelector("#select__checkbox-all-people").checked=!1:document.querySelector("#select__checkbox-all-people").checked=!0}(e)));let c=document.createElement("label");c.for=a.id,c.classList.add("select__checkbox-label","select__checkbox-label--developers"),c.innerText=e,r.append(a),r.append(c),t.append(r),n.append(t)}})))),document.querySelector("#select__checkbox-all-people").addEventListener("click",(e=>{e.target.checked?(document.querySelectorAll(".select__checkbox").forEach((e=>e.checked=!0)),e.target.checked=!0):(document.querySelectorAll(".select__checkbox").forEach((e=>e.checked=!1)),e.target.checked=!1)})),document.querySelectorAll(".select__checkbox").forEach(((e,t,n)=>e.addEventListener("click",(e=>{if(e.target.checked){let e=Array.from(n).map((e=>!!e.checked));e.shift(),e.includes(!1)||(document.querySelector("#select__checkbox-all-people").checked=!0,document.querySelector("#select__value").innerText="All People")}else document.querySelector("#select__checkbox-all-people").checked=!1,document.querySelector("#select__value").innerText="Selected People"})))),document.querySelectorAll(".select__main-cat").forEach((e=>e.addEventListener("click",(e=>{e.target.parentNode.parentNode.children[1].click(),Array.from(e.target.parentNode.parentNode.parentNode.children[1].children).forEach((t=>t.children[0].children[0].checked=e.target.checked))})))),document.querySelector(".filters__button-reset").addEventListener("click",(()=>{document.querySelector("#select__value").innerText="All People",document.querySelector("#select__status").innerText="All Statuses",document.querySelectorAll(".select__checkbox").forEach((e=>e.checked=!0)),document.querySelector("#filters__efficiency-checkbox").checked=!0})),document.querySelector(".filters__button-apply").addEventListener("click",(()=>{s.dev=[],document.querySelectorAll(".select__developers").forEach((e=>{0===e.children.length?(e.parentNode.children[0].children[1].children[0].style.transform="rotate(0deg)",e.parentNode.children[0].children[1].click(),Array.from(e.children).forEach((e=>{e.children[0].children[0].checked&&s.dev.push(e.children[0].children[1].innerText)}))):Array.from(e.children).forEach((e=>{e.children[0].children[0].checked&&s.dev.push(e.children[0].children[1].innerText)}))})),s.status=document.querySelector("#select__status").innerText,document.querySelector("#filters__efficiency-checkbox").checked?(document.querySelector(".efficiency").style.display="block",Array.from(document.querySelectorAll(".efficiency__row")[1].children).forEach(((e,t)=>{Array.from(e.children).forEach(((e,n)=>{0!==n&&Array.from(e.children).forEach(((n,a)=>{if(0!==a){if(1===a){let a=parseFloat(r[t][e.children[0].innerText][0]);n.innerText=a?a+"h":""}if(2===a){let a=parseFloat(r[t][e.children[0].innerText][1]);n.innerText=a?a+"%":""}}}))}))}))):document.querySelector(".efficiency").style.display="none",s.status&&0===s.dev.length||(c=a.filter((e=>"All Statuses"===s.status||e.status.toLowerCase().trim().length===s.status.toLowerCase().trim().length?e:void 0)),c=c.filter((e=>{if(e.developer.filter((e=>{if(s.dev.includes(e))return!0})).length>0)return e})),h(),k(),f())})),Array.from(document.querySelector(".info__body").children).forEach((e=>{switch(e.children[0].innerText){case"Project name":default:e.children[1].innerText=t[e.children[0].innerText]||"";break;case"Team lead":case"Categories":case"Team":e.children[1].innerText=t[e.children[0].innerText].join(", ")||"";break;case"Created":if(t[e.children[0].innerText]){let n=new Date(1e3*+t[e.children[0].innerText]),r=n.getFullYear(),a="0"+n.getMonth(),c="0"+n.getDate();e.children[1].innerText=`${c.substr(-2)}/${a.substr(-2)}/${r}`}break;case"Finished":if(t[e.children[0].innerText]){let n=new Date(1e3*+t[e.children[0].innerText]),r=n.getFullYear(),a="0"+n.getMonth(),c="0"+n.getDate();e.children[1].innerText=`${c.substr(-2)}/${a.substr(-2)}/${r}`}break;case"Time":t[e.children[0].innerText]&&(e.children[1].children[1].src=t[e.children[0].innerText]);break;case"Label":t[e.children[0].innerText].length>0&&t[e.children[0].innerText].forEach((t=>{let n=document.createElement("p");n.classList.add("info__content","info__content--label"),n.innerHTML=t,e.append(n)}));break;case"Tag":t[e.children[0].innerText].length>0&&t[e.children[0].innerText].forEach((t=>{let n=document.createElement("p");n.classList.add("info__content","info__content--tag"),n.innerHTML=t,e.append(n)}));break;case"Status":if("Non Completed"===t[e.children[0].innerText]){let n=document.createElement("p");n.classList.add("info__content","info__content--status"),n.innerHTML=t[e.children[0].innerText],e.append(n)}else if("Completed"===t[e.children[0].innerText]){let n=document.createElement("p");n.classList.add("info__content","info__content--status-grean"),n.innerHTML=t[e.children[0].innerText],e.append(n)}}})),document.querySelectorAll(".time__list").forEach(((e,t)=>{Array.from(e.children).forEach((e=>{if(e.classList.contains("time__item"))e.children[1].innerHTML=`${n[t][e.children[0].innerHTML]}h`||"0h";else if(e.classList.contains("time__item--col")){e.children[0].children[1].innerHTML=`${n[t][e.children[0].children[0].innerHTML][e.children[0].children[0].innerHTML]}h`||"0h";for(const[r,a]of Object.entries(n[t][e.children[0].children[0].innerHTML]))if("Origin"!==r){let t=document.createElement("li");t.className="time__item";let n=document.createElement("p");n.classList.add("time__text-light","text-light");let c=document.createElement("p");c.classList.add("time__text-light","text-light"),n.innerHTML=r,c.innerHTML=a+"h",t.append(n),t.append(c),e.children[1].children[0].append(t)}}}))})),document.addEventListener("DOMContentLoaded",(()=>{h(),k()})),document.querySelectorAll(".table thead tr").forEach((e=>e.addEventListener("click",(e=>(({target:e})=>{const t=e.dataset.order=-(e.dataset.order||-1);let n=0;n=e.parentNode.cells?[...e.parentNode.cells].indexOf(e):[...e.parentNode.parentNode.cells].indexOf(e.parentNode);const r=new Intl.Collator("en",{numeric:!0}),a=(e,t)=>(n,a)=>t*r.compare(n.children[e].innerHTML,a.children[e].innerHTML);for(const r of e.closest("table").tBodies)r.append(...[...r.rows].sort(a(n,t)))})(e)))));let p=+document.querySelector("#select__page").innerHTML,u=1;const g=document.querySelector(".pagination__count"),y=document.createElement("span");function k(){p=+document.querySelector("#select__page").innerHTML,y.innerHTML=`${1===u?u:(u-1)*p+1}-${c.length>p*u?p*u:c.length} of ${c.length}`;let e=document.querySelector(".table__body");5===p&&(e.style.minHeight="363px",e.style.maxHeight="363px",e.style.overflowY="scroll",e.style.display="block"),p>=10&&(e.style.minHeight="600px",e.style.maxHeight="600px",e.style.overflowY="scroll",e.style.display="block"),e.childNodes.forEach(((e,t)=>{e.style.display=t>=p*(u-1)&&t<p*u?"flex":"none"}))}function f(){const e=document.querySelector(".pagination__page-number");e.innerHTML="";const t=document.createElement("img");if(t.className="arrowPrev","dark"===document.documentElement.getAttribute("data-theme")?t.src="img/arrowRight.svg":t.src="img/arrowGray.svg",e.appendChild(t),u>Math.ceil(c.length/p)-1){const t=document.createElement("button");t.className="pagination__button-selected",t.innerText=`${u}`;const n=document.createElement("div");n.style.marginRight="14px",e.style.width="100px",n.appendChild(t),e.appendChild(n);const r=document.createElement("img");r.className="arrowNext","dark"===document.documentElement.getAttribute("data-theme")?(r.src="img/arrowRight.svg",r.style.transform="rotate(180deg)"):(r.src="img/arrowGray.svg",r.style.transform="rotate(180deg)"),e.appendChild(r)}else{const n=document.createElement("button");n.className="pagination__button-selected",n.innerText=`${u}`,e.style.width="120px";const r=document.createElement("div"),a=document.createElement("button");a.className="pagination__button",a.innerText=`${u+1}`,a.addEventListener("click",(()=>i())),r.appendChild(n),r.appendChild(a),e.appendChild(r);const o=document.createElement("img");o.className="arrowNext","dark"===document.documentElement.getAttribute("data-theme")?o.src="img/arrowLeft.svg":(o.src="img/arrowRight.svg",o.style.transform="rotate(180deg)"),e.appendChild(o),t.addEventListener("click",(()=>l())),o.addEventListener("click",(()=>i()));const l=()=>{u>1&&(u--,s(u),k(),"dark"===document.documentElement.getAttribute("data-theme")?1!==u&&(o.src="img/arrowLeft.svg",o.style.transform="none"):1!==u&&(o.src="img/arrowRight.svg",o.style.transform="rotare(180deg)",t.style.transform="none",t.src="img/arrowRight.svg")),1===u&&("dark"===document.documentElement.getAttribute("data-theme")?(t.style.transform="none",t.src="img/arrowRight.svg",o.src="img/arrowLeft.svg",o.style.transform="none"):(t.style.transform="none",t.src="img/arrowGray.svg",o.src="img/arrowRight.svg",o.style.transform="rotare(180deg)"))},i=()=>{u<Math.ceil(c.length/p)&&(u++,s(u),k(),"dark"===document.documentElement.getAttribute("data-theme")?(t.src="img/arrowLeft.svg",t.style.transform="rotate(180deg)",o.src="img/arrowLeft.svg",o.style.transform="none"):(t.src="img/arrowRight.svg",t.style.transform="none",o.src="img/arrowRight.svg",o.style.transform="rotate(180deg)")),u===Math.ceil(c.length/p)&&("dark"===document.documentElement.getAttribute("data-theme")?(o.src="img/arrowRight.svg",o.style.transform="rotate(180deg)"):(o.src="img/arrowGray.svg",o.style.transform="rotate(180deg)"))},s=e=>{n.innerText=`${e}`,a.innerText=`${e+1}`,a.style.opacity="1",a.style.cursor="pointer",e>Math.ceil(c.length/p)-1&&(a.style.opacity="0",a.style.cursor="default")}}}y.className="pagination__rows-per-page",y.innerHTML=`1-${c.length<p?c.length:p} of ${c.length}`,g.appendChild(y),document.querySelectorAll(".per-page").forEach((e=>e.addEventListener("click",(()=>{u=1,k(),f()})))),f()})();